<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Centralisation</title>
  <meta name="description" content="Agrégateur de liens pour les étudiants de l'École Centrale de Lyon" />

  <!-- Give access to Google search console -->
  <meta name="google-site-verification" content="zr0xe6RJrvtDwccOO9guGDEK5dUHHZFdofchU6l2We4" />

  <link rel="icon" type="image/x-icon" href="assets/favicons/images/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicons/favicon-32x32.png" />

  <script defer data-domain="centralassociation.eclair.ec-lyon.fr"
    src="https://plausible.eclair.ec-lyon.fr/js/script.outbound-links.js"></script>
</head>

<body>
  <div id="drawer" aria-expanded="false"
    class="fixed top-0 left-0 z-[45] h-screen p-4 w-1/6 overflow-y-auto transition-transform -translate-x-full aria-expanded:translate-x-0 ease-in-out duration-500  bg-blue-800">
    <div class="mt-10 py-4 overflow-y-auto">
      <ul class="max-w-md space-y-1 text-white list-none list-inside text-center">
        <li>
          <a class="section-link text-md font-mono font-semibold text-white" href="#home">Home</a>
        </li>
        {% for banner in banners %}
        <li>
          <a class="section-link text-md font-mono font-semibold text-white" href="#{{ banner.name }}">{{ banner.name }}</a>
        </li>
        {% endfor %}
      </ul>
    </div>
  </div>
  <div id="drawer-mask" aria-hidden="true"
    class="fixed top-0 left-0 z-40 h-screen w-full overflow-y-auto flex backdrop-brightness-50 aria-hidden:backdrop-brightness-100 aria-hidden:pointer-events-none transition ease-in-out duration-500">
  </div>
  <button onclick="toggleDrawer()" aria-expanded="false" aria-controls="drawer"
    class="fixed top-5 left-5 bg-green-200 z-50"><svg class="w-10 h-10" xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24">
      <title>Menu</title>
      <path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
    </svg></button>
  <div id="content" class="h-screen w-screen snap-mandatory snap-y overflow-y-scroll z-0">
    <section id="home"
      class="flex relative snap-start h-screen w-screen justify-center align-center p-10 bg-red-800 z-20">
      <div class="absolute z-[25] h-5/6">
        <img src="./assets/icons/eclair.svg" class="h-full" />
      </div>
      <div class="flex flex-col w-full p-2 bg-blue-800 bg-opacity-50 text-center justify-center space-y-20 z-30">
        <h1 class="mb-4 text-3xl font-extrabold text-gray-900 dark:text-white md:text-5xl lg:text-6xl">
          <span class="text-transparent bg-clip-text bg-gradient-to-r to-orange-600 from-orange-400">Éclair's</span>
          Centralassociation
        </h1>
        <h2 class="text-xl font-mono font-semibold text-white">Super site trop bien !</h2>
      </div>
    </section>
    {% for banner in banners %}
    <section id="{{ banner.name }}"
      class="flex relative snap-start h-screen w-screen justify-start align-center p-10 bg-red-800 z-10">
      <div class="absolute right-0 w-1/3 top-1/2 -translate-y-1/2 z-20">
        <img src="./assets/icons/{{ banner.icon }}" class="w-full translate-x-1/4" />
      </div>
      <div class="flex flex-col max-w-5/6 w-2/3 h-full p-10 bg-blue-800 justify-between z-30">
        <h1 class="text-9xl font-mono font-bold text-white">{{ banner.name }}</h1>
        <h3 class="text-3xl font-mono font-semibold text-white">{{ banner.description }}"Lorem ipsum dolor sit amet,
          consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
          minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute
          irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
          occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
        </h3>

        <div class="flex space-x-4 items-center">
          {% for link in banner.links %}
          <a href="{{ link.url }}"
            class="font-medium hover:shadow-lg rounded-lg text-sm p-2.5 text-center inline-flex items-center">
            <img class="w-40" src="./assets/icons/{{ link.icon }}" alt="{{ link.name }}" />
          </a>
          {% endfor %}
        </div>
      </div>
    </section>
    {% endfor %}
  </div>
</body>
<script>
  let drawer = document.getElementById("drawer");
  let drawer_mask = document.getElementById("drawer-mask");
  let toggleDrawer = () => {
    if (drawer.ariaExpanded === "true") {
      drawer.ariaExpanded = "false";
      drawer_mask.ariaHidden = "true";
    } else {
      drawer.ariaExpanded = "true";
      drawer_mask.ariaHidden = "false";
    }
  };
  let sections_links = document.getElementsByClassName("section-link");
  drawer_mask.addEventListener("click", () => { toggleDrawer(); console.log("c'est moi"); });

  for (let section_link of sections_links) {
    section_link.addEventListener("click", toggleDrawer);
  }
</script>

</html>